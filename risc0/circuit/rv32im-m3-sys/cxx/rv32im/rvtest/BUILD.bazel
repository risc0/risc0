load(":defs.bzl", "compile_riscv_tests")

compile_riscv_tests()

cc_test(
    name = "test",
    size = "large",
    srcs = ["test.cpp"],
    data = [":riscv_test_bins"],
    shard_count = 16,
    deps = ["//rv32im/test:test_prove"],
)

cc_test(
    name = "test_atomics",
    size = "large",
    srcs = ["test_atomics.cpp"],
    data = [
        ":riscv_test_bins",
        "//firmware",
    ],
    deps = ["//rv32im/test:test_prove"],
)
